<!DOCTYPE html>
<layout:html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml"
             xmlns:layout="http://www.w3.org/1999/xhtml"
             layout:decorate="~{layout}">

  <th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{/css/authBoard/authBoard_detail.css}">
  </th:block>

  <th:block layout:fragment="script">
    <script th:src="@{/js/authBoard/authBoard_list.js}"></script>
  </th:block>

  <div layout:fragment="content">
    <body class="blog-details-page">

    <main class="main detail-main">

      <!-- Page Title -->
      <div class="page-title" data-aos="fade">
        <div class="heading">
          <div class="container">
            <div class="row d-flex justify-content-center text-center">
              <div class="col-lg-8">
                <h1 th:text="${board.boardTitle}"></h1>
                <p class="mb-0">게시글의 상세 내용을 보여줍니다.</p>
              </div>
            </div>
          </div>
        </div>
        <nav class="breadcrumbs">
          <div class="container">
            <ol>
              <li class="current">상세 글 보기</li>
              <li><a th:href="@{/authBoard/list}">목록으로</a></li>
            </ol>
          </div>
        </nav>
      </div><!-- End Page Title -->

      <div class="container detail-container">
        <div class="row">

          <div class="col-lg-8">

            <!-- Blog Details Section -->
            <div id="blog-details" class="blog-details section board-detail">
              <div class="container">

                <article class="article">

                  <div class="post-img">
                    <img th:if="${board.image != null}" th:src="@{|/uploads/${board.image.filePath}|}" alt="" class="img-fluid">
                  </div>

                  <div class="meta-top">
                    <ul>
                      <li class="d-flex align-items-center"><i class="fa-regular fa-user"></i> <p th:text="${board.siteUser.userId}"></p></li>
                      <li class="d-flex align-items-center"><i class="fa-regular fa-clock"></i> <p><time th:text="${#temporals.format(board.postCreateDate, 'd, MMM, yyyy')}"></time></p></li>
                      <li class="d-flex align-items-center">
                        <div class="heart-sec">
                          <button class="heart-button" id="heartButton" th:attr="data-board-id=${board.listId}"><i class="fas fa-heart"></i></button>
                          <p th:text="${board.likeCount}" class="heart-count"></p>
                        </div>
                      </li>
                      <!-- 추가적인 메타 정보들을 필요에 따라 출력 -->
                    </ul>
                  </div><!-- End meta top -->

                  <div class="content">
                    <p th:text="${board.boardContent}"></p>
                  </div><!-- End post content -->
                </article>

              </div>
            </div><!-- /Blog Details Section -->

          </div>

          <div class="col-lg-4 sidebar">

            <div class="widgets-container">

              <!-- Recent Posts Widget -->
              <div class="recent-posts-widget widget-item">

                <h3 class="widget-title">Recent Posts</h3>

                <div class="post-item" th:each="recentBoard : ${recentBoards}" th:if="${recentBoard.id != board.id}">
                  <img th:if="${recentBoard.image != null}" th:src="@{|/uploads/${recentBoard.image.filePath}|}" alt="" class="flex-shrink-0">
                  <div>
                    <h4><a th:href="@{/authBoard/detail/{id}(id=${recentBoard.id})}" th:text="${recentBoard.title}"></a></h4>
                    <time th:text="${#temporals.format(recentBoard.postDate, 'd, MMM, yyyy')}"></time>
                  </div>
                </div><!-- End recent post item-->

              </div><!--/Recent Posts Widget -->

            </div>

          </div>

        </div>
      </div>

    </main>

    </body>
  </div>
</layout:html>
